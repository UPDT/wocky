%%% vim: set filetype=erlang tabstop=2
{hosts, ["testing.dev.tinyrobot.com"]}.
{schemata_cluster, [
  {username, "wocky_uat"},
  {password, "QZukefNhRwp92D"},
  {seed_hosts, [
    {"54.175.89.253", 9042},
    {"54.210.25.78", 9042},
    {"52.91.115.62", 9042}
  ]},
  {keyspaces, [
    {wocky_uat_shared, [
      {strategy, topology},
      {factor, [{'us-eastcassandra', 2}]},
      {clients, 10}
    ]},
    {wocky_uat_testing_dev_tinyrobot_com, [
      {strategy, topology},
      {factor, [{'us-eastcassandra', 2}]},
      {clients, 10}
    ]}
  ]}
]}.
{keyspace_prefix, "wocky_uat_"}.
{include_config_file, "etc/_global.cfg", [{disallow, [listen]}]}.

{listen, [
  {5222, ejabberd_c2s, [
    {access, c2s},
    {shaper, c2s_shaper},
    {max_stanza_size, 65536}
  ]},

  {5269, ejabberd_s2s_in, [
    {shaper, s2s_shaper},
    {max_stanza_size, 131072}
  ]},

  {5280, ejabberd_cowboy, [
    {num_acceptors, 10},
    {max_connections, 1024},
    {modules, [
      {"_", "/ws-xmpp", mod_websockets, []}
    ]}
  ]}
]}.

{host_config, "testing.dev.tinyrobot.com", [
  {{add, modules}, [
    {mod_websockets, []}
  ]}
]}.
