%%% vim: set filetype=erlang tabstop=2
{hosts, ["testing.dev.tinyrobot.com"]}.
{cassandra_nodes, [
  {"54.175.89.253", 9042},
  {"54.210.25.78", 9042},
  {"52.91.115.62", 9042}
]}.
{cassandra_opts, [
  {auth, {cqerl_auth_plain_handler, [{"wocky_uat", "QZukefNhRwp92D"}]}}
]}.
{keyspace_prefix, "wocky_uat_"}.
{keyspace_replication, {topology, [{'us-eastcassandra', 2}]}}.
{include_config_file, "etc/_global.cfg", [{disallow, [listen]}]}.

{listen, [
  {5222, ejabberd_c2s, [
    {access, c2s},
    {shaper, c2s_shaper},
    {max_stanza_size, 65536}
  ]},

  {5269, ejabberd_s2s_in, [
    {shaper, s2s_shaper},
    {max_stanza_size, 131072}
  ]},

  {5280, ejabberd_cowboy, [
    {num_acceptors, 10},
    {max_connections, 1024},
    {modules, [
      {"_", "/ws-xmpp", mod_websockets, []}
    ]}
  ]}
]}.

{host_config, "testing.dev.tinyrobot.com", [
  {{add, modules}, [
    {mod_websockets, []}
  ]}
]}.
