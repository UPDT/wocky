%% -*- mode: erlang; erlang-indent-level: 4; indent-tabs-mode: nil -*-
%% ex: ts=4 sw=4 ft=erlang et
{application, wocky,
 [{description, "JabberWocky"},
  {vsn, {cmd, "echo `date -u +%y.%m.%d`+`git rev-list HEAD|wc -l|tr -d ' '`"}},
  {modules, []},
  {registered, []},
  {applications, [kernel,
                  stdlib,
                  crypto,
                  lager,
                  ossp_uuid,
                  cqerl,
                  stringprep,
                  z_stdlib,
                  mochijson2,
                  qdate,
                  ssl,
                  ibrowse,
                  jiffy,
                  algolia]},
  {included_applications, [ejabberd]},
  {mod, {wocky_app, []}},
  {env, [
         {wocky_env, "dev"},
         {config_dir, "etc"},
         {start_ejabberd, false},
         {francus_chunk_size, 1048576}, % 1MB
         {cassandra_nodes, [{"127.0.0.1", 9042}]},
         {cassandra_opts, []},
         {keyspace_prefix, "wocky_test_"},
         {keyspace_replication, {simple, 1}},
         {indexing_enabled_envs, ["staging"]},
         {algolia_app_id, "HIE75ZR7Q7"},
         {algolia_app_key, "79602842342e137c97ce188013131a89"},
         {algolia_index_name, "dev_wocky_users"}
        ]}
 ]}.
